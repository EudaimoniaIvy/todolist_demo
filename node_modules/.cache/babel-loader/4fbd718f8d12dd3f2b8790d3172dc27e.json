{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"MyFooter\",\n  props: ['todos'],\n\n  data() {\n    return {\n      newTodos: []\n    };\n  },\n\n  computed: {\n    total() {\n      return this.todos.length;\n    },\n\n    doneTotal() {\n      //简单写法\n\n      /* let sum = 0\r\n      this.todos.forEach(todo => {\r\n        if(todo.done){\r\n          sum++\r\n        }\r\n      });\r\n      return sum */\n      //用reduce\n      //每一次运行 reducer 会将先前元素的计算结果作为参数传入\n      //最后将其结果汇总为单个返回值。\n      //也就是第二次运行reduce函数时，第一次的reduce函数运行结果作为参数\n      //current是todo的每一项\n      //reduce里面箭头函数省略了花括号和return\n      return this.todos.reduce((pre, cur) => pre + (cur.done ? 1 : 0), 0);\n    },\n\n    isAll() {\n      return this.doneTotal === this.total && this.total > 0;\n    }\n\n  },\n  methods: {\n    checkAll(e) {\n      //console.log(e.target.checked)//布尔值\n      //console.log(e.target.value)//on\n      this.$emit(\"checkAllTodo\", e.target.checked);\n    },\n\n    //这里虽然不需要传参，用自定义事件是为了在APP里处理数据，\n    //因为props属性不可修改\n    clearAll() {\n      this.$emit(\"clearAllTodo\");\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;AAWA;AACAA,kBADA;AAEAC,kBAFA;;AAGAC;AACA;AACAC;AADA;AAGA,GAPA;;AAQAC;AACAC;AACA;AACA,KAHA;;AAIAC;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApBA;;AAqBAC;AACA;AACA;;AAvBA,GARA;AAiCAC;AACAC;AACA;AACA;AACA;AACA,KALA;;AAMA;AACA;AACAC;AACA;AACA;;AAVA;AAjCA","names":["name","props","data","newTodos","computed","total","doneTotal","isAll","methods","checkAll","clearAll"],"sourceRoot":"src/components","sources":["MyFooter.vue"],"sourcesContent":["<template>\r\n  <div class=\"todo-footer\" v-show=\"total\">\r\n    <label>\r\n      <input type=\"checkbox\" :checked=\"isAll\" @change=\"checkAll\"/>\r\n    </label>\r\n    <span> <span>已完成{{doneTotal}}</span> / 全部{{total}}</span>\r\n    <button class=\"btn btn-danger\" @click=\"clearAll\">清除已完成任务</button>\r\n  </div>\r\n</template>\r\n\r\n<script scoped>\r\nexport default {\r\n  name: \"MyFooter\",\r\n  props:['todos'],\r\n  data() {\r\n    return {\r\n      newTodos:[]\r\n    }\r\n  },\r\n  computed:{\r\n    total(){\r\n      return this.todos.length\r\n    },\r\n    doneTotal(){\r\n      //简单写法\r\n      /* let sum = 0\r\n      this.todos.forEach(todo => {\r\n        if(todo.done){\r\n          sum++\r\n        }\r\n      });\r\n      return sum */\r\n      //用reduce\r\n      //每一次运行 reducer 会将先前元素的计算结果作为参数传入\r\n      //最后将其结果汇总为单个返回值。\r\n      //也就是第二次运行reduce函数时，第一次的reduce函数运行结果作为参数\r\n      //current是todo的每一项\r\n      //reduce里面箭头函数省略了花括号和return\r\n      return this.todos.reduce((pre,cur)=> pre + (cur.done ? 1 : 0),0)\r\n    },\r\n    isAll(){\r\n      return this.doneTotal === this.total && this.total>0\r\n    }\r\n  },\r\n  methods: {\r\n    checkAll(e){\r\n      //console.log(e.target.checked)//布尔值\r\n      //console.log(e.target.value)//on\r\n      this.$emit(\"checkAllTodo\",e.target.checked)\r\n    },\r\n    //这里虽然不需要传参，用自定义事件是为了在APP里处理数据，\r\n    //因为props属性不可修改\r\n    clearAll(){\r\n      this.$emit(\"clearAllTodo\")\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/*footer*/\r\n.todo-footer {\r\n  height: 40px;\r\n  line-height: 40px;\r\n  padding-left: 6px;\r\n  margin-top: 5px;\r\n}\r\n\r\n.todo-footer label {\r\n  display: inline-block;\r\n  margin-right: 20px;\r\n  cursor: pointer;\r\n}\r\n\r\n.todo-footer label input {\r\n  position: relative;\r\n  top: -1px;\r\n  vertical-align: middle;\r\n  margin-right: 5px;\r\n}\r\n\r\n.todo-footer button {\r\n  float: right;\r\n  margin-top: 5px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}